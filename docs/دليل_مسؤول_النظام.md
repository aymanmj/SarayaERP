# ุฏููู ูุณุคูู ุงููุธุงู - ุณุฑุงูุง ERP
## ุฅุฌุฑุงุกุงุช ุงูุฅุฏุงุฑุฉ ูุงูุตูุงูุฉ

---

## ุงููุญุชููุงุช

1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู](#ุฅุฏุงุฑุฉ-ุงููุณุชุฎุฏููู)
3. [ุฅุนุฏุงุฏุงุช ุงููุธุงู](#ุฅุนุฏุงุฏุงุช-ุงููุธุงู)
4. [ุงููุณุฎ ุงูุงุญุชูุงุทู](#ุงููุณุฎ-ุงูุงุญุชูุงุทู)
5. [ุงููุฑุงูุจุฉ ูุงูุฃุฏุงุก](#ุงููุฑุงูุจุฉ-ูุงูุฃุฏุงุก)
6. [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก](#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก)
7. [ุงูุตูุงูุฉ ุงูุฏูุฑูุฉ](#ุงูุตูุงูุฉ-ุงูุฏูุฑูุฉ)

---

## ูุธุฑุฉ ุนุงูุฉ

### ุงูุจููุฉ ุงูุชูููุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ุงูุนููู (ุงููุชุตูุญ)                โ
โ           http://localhost:5173             โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
                  โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ุงูุฎุงุฏู ุงูุฎููู (NestJS)              โ
โ           http://localhost:3000             โ
โ  โข ูุนุงูุฌุฉ ุงูุทูุจุงุช   โข ุงูุชุญูู ูู ุงููููุฉ      โ
โ  โข ููุทู ุงูุฃุนูุงู     โข Rate Limiting         โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
                  โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          ูุงุนุฏุฉ ุงูุจูุงูุงุช (PostgreSQL)         โ
โ              localhost:5432                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงูููุงูุฐ ุงููุณุชุฎุฏูุฉ

| ุงูุฎุฏูุฉ | ุงููููุฐ | ุงููุตู |
|--------|--------|-------|
| Frontend | 5173 | ูุงุฌูุฉ ุงููุณุชุฎุฏู (Vite) |
| Backend | 3000 | API ุงูุฎููู (NestJS) |
| Database | 5432 | PostgreSQL |
| Prometheus | 9090 | ูุฑุงูุจุฉ ุงูุฃุฏุงุก |
| Grafana | 3001 | ููุญุงุช ุงููุฑุงูุจุฉ |

---

## ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู

### ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ

1. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ **ูุณุคูู ุงููุธุงู**
2. ุงูุชูู ุฅูู **ุงูุฅุนุฏุงุฏุงุช** โ **ุงููุณุชุฎุฏููู**
3. ุงุถุบุท **ุฅุถุงูุฉ ูุณุชุฎุฏู**
4. ุงููุฃ ุงูุจูุงูุงุช:
   - ุงุณู ุงููุณุชุฎุฏู
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ุงููุฑูุฑ ุงููุคูุชุฉ
   - ุงูุฏูุฑ ุงููุธููู

### ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

| ุงูุฏูุฑ | ุงูุตูุงุญูุงุช |
|-------|----------|
| **ADMIN** | ุตูุงุญูุงุช ูุงููุฉ ุนูู ุงููุธุงู |
| **DOCTOR** | ุนุฑุถ/ุชุนุฏูู ุงููููุงุช ุงูุทุจูุฉุ ูุชุงุจุฉ ุงููุตูุงุช |
| **NURSE** | ุชุณุฌูู ุงูุนูุงูุงุช ุงูุญูููุฉุ ุนุฑุถ ุงููููุงุช |
| **PHARMACIST** | ุตุฑู ุงูุฃุฏููุฉุ ุฅุฏุงุฑุฉ ุงููุฎุฒูู |
| **LAB_TECH** | ุฅุฏุฎุงู ูุชุงุฆุฌ ุงูุชุญุงููู |
| **RECEPTIONIST** | ุชุณุฌูู ุงููุฑุถูุ ูุชุญ ุงูุฒูุงุฑุงุช |
| **ACCOUNTANT** | ุงูููุชุฑุฉ ูุงูุชูุงุฑูุฑ ุงููุงููุฉ |

### ุชุนุทูู ุญุณุงุจ ูุณุชุฎุฏู

1. ุงูุชูู ุฅูู **ุงููุณุชุฎุฏููู**
2. ุงุจุญุซ ุนู ุงููุณุชุฎุฏู
3. ุงุถุบุท **ุชุนุทูู ุงูุญุณุงุจ**

> โ๏ธ **ุชุญุฐูุฑ**: ูุง ุชุญุฐู ุงูุญุณุงุจุงุช - ุงุณุชุฎุฏู ุงูุชุนุทูู ููุญูุงุธ ุนูู ุณุฌู ุงูุชุฏููู

### ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ

```powershell
# ูู ุณุทุฑ ุงูุฃูุงูุฑ (ููุญุงูุงุช ุงูุทุงุฑุฆุฉ)
cd E:\SarayaERP\server
npm run reset-password -- --username=ahmed --password=NewTemp123!
```

---

## ุฅุนุฏุงุฏุงุช ุงููุธุงู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุงูููู: `E:\SarayaERP\server\.env`

```env
# ูุงุนุฏุฉ ุงูุจูุงูุงุช
DATABASE_URL="postgresql://postgres:password@localhost:5432/saraya"

# ุงููููุฐ
PORT=3000

# JWT
JWT_SECRET="your-secret-key-here"
JWT_EXPIRATION="1d"

# CORS
CORS_ORIGINS="http://localhost:5173,http://localhost:3000"

# ุงูุจูุฆุฉ
NODE_ENV="production"
```

### ุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงูุชุฑุฎูุต

1. ุงูุชูู ุฅูู **ุงูุฅุนุฏุงุฏุงุช** โ **ุงูุชุฑุฎูุต**
2. ุฃุฏุฎู ููุชุงุญ ุงูุชุฑุฎูุต ุงูุฌุฏูุฏ
3. ุงุถุบุท **ุชูุนูู**

---

## ุงููุณุฎ ุงูุงุญุชูุงุทู

### ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุฏูู

#### Windows:
```batch
cd E:\SarayaERP\server\scripts
backup-database.bat daily
```

#### Linux:
```bash
cd /opt/saraya/server/scripts
./backup-database.sh daily
```

### ุฌุฏูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

ุฃุถู ุงูููุงู ุงูุชุงููุฉ ุฅูู **Task Scheduler** (Windows):

| ุงููููุฉ | ุงูุชูููุช | ุงูุฃูุฑ |
|--------|---------|-------|
| ูุณุฎ ูููู | 02:00 | `backup-database.bat daily` |
| ูุณุฎ ุฃุณุจูุนู | ุงูุฃุญุฏ 03:00 | `backup-database.bat weekly` |
| ูุณุฎ ุดูุฑู | ุงูุฃูู 04:00 | `backup-database.bat monthly` |

### ูููุน ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

```
C:\backups\saraya\
โโโ daily\      # ุขุฎุฑ 7 ุฃูุงู
โโโ weekly\     # ุขุฎุฑ 4 ุฃุณุงุจูุน
โโโ monthly\    # ุขุฎุฑ 12 ุดูุฑ
```

### ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ

```batch
# ุงุณุชุฎุฑุงุฌ ุงููุณุฎุฉ ุงููุถุบูุทุฉ
powershell Expand-Archive backup.sql.zip -DestinationPath .

# ุงุณุชุนุงุฏุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
set PGPASSWORD=your_password
psql -h localhost -U postgres -d saraya -f backup.sql
```

---

## ุงููุฑุงูุจุฉ ูุงูุฃุฏุงุก

### ููุงุท ูุญุต ุงููุธุงู

| ุงูููุทุฉ | ุงูุฑุงุจุท | ุงููุตู |
|--------|--------|-------|
| Health Check | `/health` | ูุญุต ุณุฑูุน |
| ุงูุชูุงุตูู | `/health/detailed` | ูุนูููุงุช ุดุงููุฉ |
| Prometheus | `/health/metrics` | ููุงููุณ ุงูุฃุฏุงุก |

### ุงููุตูู ุฅูู Prometheus

1. ุดุบูู Docker:
```batch
cd E:\SarayaERP
docker-compose -f docker-compose.monitoring.yml up -d
```

2. ุงูุชุญ ุงููุชุตูุญ: `http://localhost:9090`

### ุงููุตูู ุฅูู Grafana

1. ุงูุชุญ: `http://localhost:3001`
2. ุชุณุฌูู ุงูุฏุฎูู:
   - ุงููุณุชุฎุฏู: `admin`
   - ูููุฉ ุงููุฑูุฑ: `admin`

### ุงูุชูุจููุงุช

ุงููุธุงู ููุฑุณู ุชูุจููุงุช ูู ุงูุญุงูุงุช ุงูุชุงููุฉ:

| ุงูุญุงูุฉ | ุงูุฎุทูุฑุฉ | ุงูุฅุฌุฑุงุก |
|--------|---------|---------|
| ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุณุชุฌูุจ | ุญุฑุฌุฉ | ูุญุต PostgreSQL ููุฑุงู |
| ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ > 90% | ุชุญุฐูุฑ | ูุฑุงุฌุนุฉ ุงูุนูููุงุช |
| ููุช ุงูุงุณุชุฌุงุจุฉ > 2 ุซุงููุฉ | ุชุญุฐูุฑ | ูุญุต ุงูุฃุฏุงุก |

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

#### 1. ุงููุธุงู ูุง ูุณุชุฌูุจ

```powershell
# ูุญุต ุญุงูุฉ ุงูุฎุฏูุงุช
netstat -ano | findstr :3000
netstat -ano | findstr :5432

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
cd E:\SarayaERP\server
npm run start:prod
```

#### 2. ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

```powershell
# ูุญุต PostgreSQL
pg_isready -h localhost -p 5432

# ุฅุนุงุฏุฉ ุชุดุบูู PostgreSQL
net stop postgresql-x64-14
net start postgresql-x64-14
```

#### 3. ูุดููุฉ ูู ุงูุชุฑุฎูุต

```powershell
# ูุญุต ููู ุงูุชุฑุฎูุต
type E:\SarayaERP\server\license.key

# ุฅุนุงุฏุฉ ุฅูุดุงุก ูุนุฑู ุงูุฌูุงุฒ
cd E:\SarayaERP\server
npm run generate-machine-id
```

#### 4. ุจุทุก ูู ุงูุฃุฏุงุก

1. ุงูุญุต ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ูู **Task Manager**
2. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก:
```powershell
type E:\SarayaERP\server\logs\error.log
```
3. ุดุบูู ุชุญููู ุงูุงุณุชุนูุงูุงุช:
```sql
-- ูู PostgreSQL
SELECT * FROM pg_stat_activity WHERE state = 'active';
```

### ุณุฌูุงุช ุงููุธุงู

| ุงูููู | ุงููุญุชูู |
|-------|---------|
| `logs/application.log` | ุณุฌู ุงูุชุทุจูู ุงูุนุงู |
| `logs/error.log` | ุงูุฃุฎุทุงุก ููุท |
| `logs/audit.log` | ุณุฌู ุงูุชุฏููู |

---

## ุงูุตูุงูุฉ ุงูุฏูุฑูุฉ

### ููุงู ููููุฉ

- [ ] ูุญุต ุญุงูุฉ ุงููุธุงู (`/health`)
- [ ] ูุฑุงุฌุนุฉ ุงูุชูุจููุงุช ุงูุฌุฏูุฏุฉ
- [ ] ุงูุชุฃูุฏ ูู ุงูุชูุงู ุงููุณุฎ ุงูุงุญุชูุงุทู

### ููุงู ุฃุณุจูุนูุฉ

- [ ] ูุฑุงุฌุนุฉ ุณุฌูุงุช ุงูุฃุฎุทุงุก
- [ ] ูุญุต ูุณุงุญุฉ ุงููุฑุต
- [ ] ูุฑุงุฌุนุฉ ุชูุงุฑูุฑ ุงูุฃุฏุงุก

### ููุงู ุดูุฑูุฉ

- [ ] ุชุญุฏูุซ ูููุงุช ูุฑูุฑ ุงูุฎุฏูุงุช
- [ ] ูุฑุงุฌุนุฉ ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
- [ ] ุงุฎุชุจุงุฑ ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- [ ] ุชุญุฏูุซุงุช ุงูุฃูุงู

### ูุงุฆูุฉ ูุญุต ูุง ูุจู ุงูุชุญุฏูุซ

- [ ] ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ
- [ ] ุฅุฎุทุงุฑ ุงููุณุชุฎุฏููู ุจููุนุฏ ุงูุตูุงูุฉ
- [ ] ุชูุซูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู
- [ ] ุชุฌููุฒ ุฎุทุฉ ุงูุชุฑุงุฌุน

---

## ุงูุฃูุงูุฑ ุงููุฑุฌุนูุฉ ุงูุณุฑูุนุฉ

### ุชุดุบูู ุงููุธุงู

```batch
# ุชุดุบูู ุงูุฎุงุฏู (Development)
cd E:\SarayaERP\server
npm run start:dev

# ุชุดุบูู ุงูุฎุงุฏู (Production)
npm run start:prod

# ุชุดุบูู ุงููุงุฌูุฉ
cd E:\SarayaERP\client
npm run dev
```

### ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```batch
# ุชุทุจูู ุงูุชุญุฏูุซุงุช
npx prisma migrate deploy

# ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุนููู
npx prisma generate

# ุนุฑุถ ุงูุจูุงูุงุช (GUI)
npx prisma studio
```

### ุงููุฑุงูุจุฉ

```batch
# ุชุดุบูู Prometheus + Grafana
docker-compose -f docker-compose.monitoring.yml up -d

# ุฅููุงู ุงููุฑุงูุจุฉ
docker-compose -f docker-compose.monitoring.yml down
```

---

> ๐ **ุณุฑูุฉ**: ูุฐุง ุงูุฏููู ููุงุณุชุฎุฏุงู ุงูุฏุงุฎูู ููุท  
> ๐ **ุขุฎุฑ ุชุญุฏูุซ**: ููุงูุฑ 2026  
> โ๏ธ **ุงููุณุคูู**: ูุฑูู ุชุทููุฑ ุณุฑุงูุง ERP
