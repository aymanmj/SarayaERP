# ğŸ“‹ Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªÙ†ØµÙŠØ¨ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù†Ø¸Ø§Ù… Saraya ERP

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ ÙŠØ´Ø±Ø­ ÙƒÙŠÙÙŠØ© ØªÙ†ØµÙŠØ¨ Ù†Ø¸Ø§Ù… Saraya ERP Ø¹Ù„Ù‰ Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„Ø¢Ù„ÙŠØ©.

---

## ğŸ—‚ï¸ Ø§Ù„Ø¨Ù†ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Ø£Ù†Øª (Ø§Ù„Ù…Ø·ÙˆØ±)                                â”‚
â”‚                     Ø¬Ù‡Ø§Ø²Ùƒ + Tailscale Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¨Ø¹ÙŠØ¯                      â”‚
â”‚                                    â”‚                                    â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                          â”‚   Tailscale VPN   â”‚                          â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚          â”‚                         â”‚                         â”‚         â”‚
â”‚          â–¼                         â–¼                         â–¼         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚   Ø¹Ù…ÙŠÙ„ 1     â”‚          â”‚   Ø¹Ù…ÙŠÙ„ 2     â”‚          â”‚   Ø¹Ù…ÙŠÙ„ 3     â”‚ â”‚
â”‚   â”‚ Ubuntu Serverâ”‚          â”‚ Ubuntu Serverâ”‚          â”‚ Ubuntu Serverâ”‚ â”‚
â”‚   â”‚      +       â”‚          â”‚      +       â”‚          â”‚      +       â”‚ â”‚
â”‚   â”‚ Ø£Ø¬Ù‡Ø²Ø© Windowsâ”‚          â”‚ Ø£Ø¬Ù‡Ø²Ø© Windowsâ”‚          â”‚ Ø£Ø¬Ù‡Ø²Ø© Windowsâ”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© (Ø³Ø·Ø± ÙˆØ§Ø­Ø¯)

```bash
curl -fsSL https://raw.githubusercontent.com/aymanmj/SarayaERP/main/scripts/install.sh | sudo bash
```

---

## ğŸ“¦ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© (Ø­Ø²Ù…Ø© Ø§Ù„Ù†Ø´Ø±)

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø²Ù…Ø© Ø§Ù„Ù†Ø´Ø± (Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ)

```bash
cd /path/to/SarayaERP
./scripts/create-deploy-package.sh
```

**Ø§Ù„Ù†Ø§ØªØ¬:** `deploy-packages/saraya-erp-deploy-XXXXXX.zip`

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù†Ù‚Ù„ Ø§Ù„Ø­Ø²Ù…Ø© Ù„Ù„Ø³ÙŠØ±ÙØ±

**Ø¹Ø¨Ø± USB:**
```bash
# Ø§Ù†Ø³Ø® Ø§Ù„Ù…Ù„Ù Ø¹Ù„Ù‰ USB
# Ø«Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±:
cp /media/usb/saraya-erp-deploy-*.zip ~/
```

**Ø¹Ø¨Ø± SCP:**
```bash
scp saraya-erp-deploy-*.zip user@SERVER_IP:~/
```

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±

```bash
# ÙÙƒ Ø§Ù„Ø¶ØºØ·
unzip saraya-erp-deploy-*.zip
cd saraya-erp-deploy-*

# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ«Ø¨ÙŠØª
sudo ./INSTALL.sh
```

---

## ğŸ“ Ù…Ø§ ÙŠØ·Ù„Ø¨Ù‡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª

Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØªØŒ Ø³ÙŠØ³Ø£Ù„Ùƒ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø¹Ù†:

| Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ | Ø§Ù„Ù…Ø«Ø§Ù„ | Ù…Ù„Ø§Ø­Ø¸Ø§Øª |
|---------|--------|---------|
| Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø© | `amal-clinic` | Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŒ Ø¨Ø¯ÙˆÙ† Ù…Ø³Ø§ÙØ§Øª |
| Tailscale Auth Key | `tskey-auth-xxx` | Ø§Ø®ØªÙŠØ§Ø±ÙŠØŒ Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¨Ø¹ÙŠØ¯ |
| GitHub Username | `aymanmj` | Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù€ GHCR |
| GitHub PAT | `ghp_xxxx` | Ù…Ø¹ ØµÙ„Ø§Ø­ÙŠØ© `read:packages` |
| Ù…Ø³Ø§Ø± Ù…Ù„Ù Ø§Ù„Ø±Ø®ØµØ© | `/path/to/saraya.lic` | Ø§Ø®ØªÙŠØ§Ø±ÙŠ |

---

## âœ… Ø¨Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª

### Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…

| Ø§Ù„Ø®Ø¯Ù…Ø© | Ø§Ù„Ø±Ø§Ø¨Ø· |
|--------|--------|
| Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | `http://SERVER_IP` |
| Portainer | `http://SERVER_IP:9000` |
| Grafana | `http://SERVER_IP:3001` |

### Ø£Ø¬Ù‡Ø²Ø© Windows (Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†)

**Ù„Ø§ ÙŠØ­ØªØ§Ø¬ÙˆÙ† ØªØ«Ø¨ÙŠØª Ø£ÙŠ Ø´ÙŠØ¡!**
1. ÙØªØ­ Ø§Ù„Ù…ØªØµÙØ­
2. Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù€ `http://SERVER_IP`
3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù…

### Ø¥Ø¶Ø§ÙØ© Ø§Ø³Ù… Ù…Ø®ØªØµØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

Ø¹Ù„Ù‰ Ø£Ø¬Ù‡Ø²Ø© WindowsØŒ Ø§ÙØªØ­ `C:\Windows\System32\drivers\etc\hosts` ÙƒÙ€ Administrator ÙˆØ£Ø¶Ù:
```
192.168.1.10    saraya
```

Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù‡Ù… Ø§Ù„ÙˆØµÙˆÙ„ Ø¹Ø¨Ø±: `http://saraya`

---

## ğŸ”§ Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©

```
/opt/saraya-erp/scripts/
â”œâ”€â”€ install.sh            # Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
â”œâ”€â”€ update.sh             # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…
â”œâ”€â”€ health-check.sh       # ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
â”œâ”€â”€ backup.sh             # Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙŠØ¯ÙˆÙŠ
â”œâ”€â”€ setup-ghcr.sh         # Ø¥Ø¹Ø¯Ø§Ø¯ GHCR
â”œâ”€â”€ uninstall.sh          # Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
â””â”€â”€ create-deploy-package.sh  # Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø²Ù…Ø© Ø§Ù„Ù†Ø´Ø±
```

### Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©

```bash
cd /opt/saraya-erp

# ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
./scripts/health-check.sh

# ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…
./scripts/update.sh

# Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
./scripts/backup.sh

# Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
docker compose -f docker-compose.production.yml logs -f

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø®Ø¯Ù…Ø© Ù…Ø¹ÙŠÙ†Ø©
docker compose -f docker-compose.production.yml restart backend

# Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù†Ø¸Ø§Ù…
sudo systemctl stop saraya-erp

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
sudo systemctl start saraya-erp
```

---

## ğŸŒ Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¨Ø¹ÙŠØ¯ (Ù„Ùƒ ÙƒÙ…Ø·ÙˆØ±)

### Ø¥Ø¹Ø¯Ø§Ø¯ Tailscale Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ

1. Ø­Ù…Ù‘Ù„ Tailscale: https://tailscale.com/download
2. Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„
3. Ø³ØªØ¬Ø¯ Ø¬Ù…ÙŠØ¹ Ø³ÙŠØ±ÙØ±Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©

### Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª

```bash
# SSH
ssh user@saraya-amal-clinic

# Portainer
http://saraya-amal-clinic:9000

# ØªØ­Ø¯ÙŠØ« Ø¹Ø¨Ø± Watchtower API
curl -H "Authorization: Bearer $TOKEN" http://saraya-amal-clinic:8080/v1/update
```

---

## âš ï¸ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ø§Ù„Ø®Ø¯Ù…Ø© Ù„Ø§ ØªØ¹Ù…Ù„

```bash
# ÙØ­Øµ Ø§Ù„Ø­Ø§Ù„Ø©
./scripts/health-check.sh

# Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
docker logs saraya_backend
docker logs saraya_frontend
```

### Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ©
ping SERVER_IP
curl http://SERVER_IP:3000/api/health
```

### Ø¥Ø¹Ø§Ø¯Ø© ØªØ«Ø¨ÙŠØª ÙƒØ§Ù…Ù„

```bash
# Ø¥Ø²Ø§Ù„Ø© Ø«Ù… ØªØ«Ø¨ÙŠØª
sudo ./scripts/uninstall.sh
sudo ./scripts/install.sh
```
